// Blueprint: Auto-generated by Retries Plugin
package retries

import (
	"context"
	"blueprint/goproc/shipping_proc/ot"
	"github.com/blueprint-uservices/blueprint/examples/sockshop/workflow/shipping"
)

type ShippingService_RetrierClient struct {
	Client ot.ShippingService_OTClientWrapperInterface
	MaxTries int
}

func New_ShippingService_RetrierClient (ctx context.Context, client ot.ShippingService_OTClientWrapperInterface) (*ShippingService_RetrierClient, error) {
	handler := &ShippingService_RetrierClient{}
	handler.Client = client
	handler.MaxTries = 3
	return handler, nil
}


func (client *ShippingService_RetrierClient) GetShipment(ctx context.Context, id string) (ret0 shipping.Shipment, err error) {
	for i := 0; i < client.MaxTries; i++ {
		ret0, err = client.Client.GetShipment(ctx, id)
		if err == nil {
			return
		}
	}
	return
}

func (client *ShippingService_RetrierClient) PostShipping(ctx context.Context, shipment shipping.Shipment) (ret0 shipping.Shipment, err error) {
	for i := 0; i < client.MaxTries; i++ {
		ret0, err = client.Client.PostShipping(ctx, shipment)
		if err == nil {
			return
		}
	}
	return
}

func (client *ShippingService_RetrierClient) UpdateStatus(ctx context.Context, id string, status string) (err error) {
	for i := 0; i < client.MaxTries; i++ {
		err = client.Client.UpdateStatus(ctx, id, status)
		if err == nil {
			return
		}
	}
	return
}

