<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# otelcol

```go
import "github.com/blueprint-uservices/blueprint/plugins/otelcol"
```

Package otelcol provides a plugin to generate and include an OpenTelemetry collector instance in a Blueprint application.

### Wiring Spec Usage

To instantiate an OpenTelemetry collector container:

```
collector := otelcol.Collector(spec, "otelcol")
```

The returned collectorName must be used as an argument to the \`opentelemetry.Instrument\(spec, serviceName, collector\)\` to ensure the spans generated by instrumented services are correctly exported to the instantiated server.

### Artifacts Generated

1. The package provides an OpenTelemetry collector container that provides the server\-side implementation of the OpenTelemetry collector.
2. Instantiates a [OTCollectorTracer](<https://github.com/Blueprint-uServices/blueprint/tree/main/runtime/plugins/otelcol>) instance for configuring the opentelemetry runtime libraries to export all generated traces to the OpenTelemetry collector.

## Index

- [func Collector\(spec wiring.WiringSpec, collectorName string\) string](<#Collector>)
- [type OTCollectorClient](<#OTCollectorClient>)
  - [func \(node \*OTCollectorClient\) AddInstantiation\(builder golang.NamespaceBuilder\) error](<#OTCollectorClient.AddInstantiation>)
  - [func \(node \*OTCollectorClient\) AddInterfaces\(builder golang.ModuleBuilder\) error](<#OTCollectorClient.AddInterfaces>)
  - [func \(node \*OTCollectorClient\) AddToWorkspace\(builder golang.WorkspaceBuilder\) error](<#OTCollectorClient.AddToWorkspace>)
  - [func \(node \*OTCollectorClient\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#OTCollectorClient.GetInterface>)
  - [func \(node \*OTCollectorClient\) ImplementsGolangNode\(\)](<#OTCollectorClient.ImplementsGolangNode>)
  - [func \(node \*OTCollectorClient\) ImplementsOTCollectorClient\(\)](<#OTCollectorClient.ImplementsOTCollectorClient>)
  - [func \(node \*OTCollectorClient\) Name\(\) string](<#OTCollectorClient.Name>)
  - [func \(node \*OTCollectorClient\) String\(\) string](<#OTCollectorClient.String>)
- [type OTCollectorContainer](<#OTCollectorContainer>)
  - [func \(node \*OTCollectorContainer\) AddContainerInstance\(target docker.ContainerWorkspace\) error](<#OTCollectorContainer.AddContainerInstance>)
  - [func \(node \*OTCollectorContainer\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#OTCollectorContainer.GetInterface>)
  - [func \(node \*OTCollectorContainer\) Name\(\) string](<#OTCollectorContainer.Name>)
  - [func \(node \*OTCollectorContainer\) String\(\) string](<#OTCollectorContainer.String>)
- [type OTCollectorInterface](<#OTCollectorInterface>)
  - [func \(j \*OTCollectorInterface\) GetMethods\(\) \[\]service.Method](<#OTCollectorInterface.GetMethods>)
  - [func \(j \*OTCollectorInterface\) GetName\(\) string](<#OTCollectorInterface.GetName>)


<a name="Collector"></a>
## func [Collector](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/wiring.go#L34>)

```go
func Collector(spec wiring.WiringSpec, collectorName string) string
```

[Collector](<#Collector>) can be used by the wiring spec to add and instantiate an OpenTelemetry collector docker container named \`collectorName\` that uses the latest OpenTelemetry collector container and the clients needed by the generated application to communicate with the server.

The returned collectorName must be used as an argument to the opentelemetry.Instrument\(spec, serviceName, \`collectorName\`\) to ensure the spans generated by instrumented services are correctly exported to the instantiated server.

### Wiring Spec Usage

```
otelcol.Collector(spec, "otelcol")
```

<a name="OTCollectorClient"></a>
## type [OTCollectorClient](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector_client.go#L16-L22>)

Blueprint IR node representing a client to the OpenTelemetry collector container

```go
type OTCollectorClient struct {
    golang.Node
    golang.Instantiable
    ClientName string
    ServerDial *address.DialConfig
    Spec       *workflowspec.Service
}
```

<a name="OTCollectorClient.AddInstantiation"></a>
### func \(\*OTCollectorClient\) [AddInstantiation](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector_client.go#L45>)

```go
func (node *OTCollectorClient) AddInstantiation(builder golang.NamespaceBuilder) error
```

Implements golang.Instantiable

<a name="OTCollectorClient.AddInterfaces"></a>
### func \(\*OTCollectorClient\) [AddInterfaces](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector_client.go#L62>)

```go
func (node *OTCollectorClient) AddInterfaces(builder golang.ModuleBuilder) error
```

Implements golang.ProvidesInterface

<a name="OTCollectorClient.AddToWorkspace"></a>
### func \(\*OTCollectorClient\) [AddToWorkspace](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector_client.go#L67>)

```go
func (node *OTCollectorClient) AddToWorkspace(builder golang.WorkspaceBuilder) error
```

Implements golang.ProvidesModule

<a name="OTCollectorClient.GetInterface"></a>
### func \(\*OTCollectorClient\) [GetInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector_client.go#L57>)

```go
func (node *OTCollectorClient) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```

Implements service.ServiceNode

<a name="OTCollectorClient.ImplementsGolangNode"></a>
### func \(\*OTCollectorClient\) [ImplementsGolangNode](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector_client.go#L71>)

```go
func (node *OTCollectorClient) ImplementsGolangNode()
```



<a name="OTCollectorClient.ImplementsOTCollectorClient"></a>
### func \(\*OTCollectorClient\) [ImplementsOTCollectorClient](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector_client.go#L73>)

```go
func (node *OTCollectorClient) ImplementsOTCollectorClient()
```



<a name="OTCollectorClient.Name"></a>
### func \(\*OTCollectorClient\) [Name](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector_client.go#L35>)

```go
func (node *OTCollectorClient) Name() string
```

Implements ir.IRNode

<a name="OTCollectorClient.String"></a>
### func \(\*OTCollectorClient\) [String](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector_client.go#L40>)

```go
func (node *OTCollectorClient) String() string
```

Implements ir.IRNode

<a name="OTCollectorContainer"></a>
## type [OTCollectorContainer](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector.go#L14-L21>)

Blueprint IR node that represents the OpenTelemetry Collector container

```go
type OTCollectorContainer struct {
    docker.Container
    docker.ProvidesContainerInstance

    CollectorName string
    BindAddr      *address.BindConfig
    Iface         *goparser.ParsedInterface
}
```

<a name="OTCollectorContainer.AddContainerInstance"></a>
### func \(\*OTCollectorContainer\) [AddContainerInstance](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector.go#L67>)

```go
func (node *OTCollectorContainer) AddContainerInstance(target docker.ContainerWorkspace) error
```

Implements docker.ProvidesContainerInstance

<a name="OTCollectorContainer.GetInterface"></a>
### func \(\*OTCollectorContainer\) [GetInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector.go#L61>)

```go
func (node *OTCollectorContainer) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```

Implements service.ServiceNode

<a name="OTCollectorContainer.Name"></a>
### func \(\*OTCollectorContainer\) [Name](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector.go#L51>)

```go
func (node *OTCollectorContainer) Name() string
```

Implements ir.IRNode

<a name="OTCollectorContainer.String"></a>
### func \(\*OTCollectorContainer\) [String](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector.go#L56>)

```go
func (node *OTCollectorContainer) String() string
```

Implements ir.IRNode

<a name="OTCollectorInterface"></a>
## type [OTCollectorInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector.go#L24-L27>)

OpenTelemetry Collector interface exposed to the application.

```go
type OTCollectorInterface struct {
    service.ServiceInterface
    Wrapped service.ServiceInterface
}
```

<a name="OTCollectorInterface.GetMethods"></a>
### func \(\*OTCollectorInterface\) [GetMethods](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector.go#L33>)

```go
func (j *OTCollectorInterface) GetMethods() []service.Method
```



<a name="OTCollectorInterface.GetName"></a>
### func \(\*OTCollectorInterface\) [GetName](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/otelcol/ir_collector.go#L29>)

```go
func (j *OTCollectorInterface) GetName() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>) 